{% extends 'concerts_app/base.html' %}
{% block title %}
    Añadir Entradas
{% endblock %}
{% block content %}
<div class="row">
    <div class="col">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title text-center">Añadir entradas para {{ festival.nombre }}</h2>
                {%if error%}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {%endif%}
                <div class="row" id="advertencia">
                    <div class="col-12 d-flex justify-content-center">
                      <div class="custom-info text-center w-75 my-3">
                        <div class="custom-info__icon">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" height="24" fill="none">
                            <path fill="#393a37"
                              d="m12 1.5c-5.79844 0-10.5 4.70156-10.5 10.5 0 5.7984 4.70156 10.5 10.5 10.5 5.7984 0 10.5-4.7016 10.5-10.5 0-5.79844-4.7016-10.5-10.5-10.5zm.75 15.5625c0 .1031-.0844.1875-.1875.1875h-1.125c-.1031 0-.1875-.0844-.1875-.1875v-6.375c0-.1031.0844-.1875.1875-.1875h1.125c.1031 0 .1875.0844.1875.1875zm-.75-8.0625c-.2944-.00601-.5747-.12718-.7808-.3375-.206-.21032-.3215-.49305-.3215-.7875s.1155-.57718.3215-.7875c.2061-.21032.4864-.33149.7808-.3375.2944.00601.5747.12718.7808.3375.206.21032.3215.49305.3215.7875s-.1155.57718-.3215.7875c-.2061.21032-.4864.33149-.7808.3375z">
                            </path>
                          </svg>
                        </div>
                        {%if entradas_restantes == 0%}
                        <div class="custom-info__title"> Recuerda que hay disponibles {{ festival.boletos_disponibles }} tickets en total debido al aforo. No puedes añadir más entradas que esa cantidad, pero puedes redistribuirlas. </div>
                        {%else%}
                        <div class="custom-info__title">Recuerda que hay disponibles {{ festival.boletos_disponibles }} tickets en total debido al aforo, no puedes añadir más de esa cantidad.Puedes asignar {{entradas_restantes}} entradas todavía.</div>
                        {%endif%}
                        <div class="custom-info__close mb-2" onclick="cerrarAdvertencia()"><svg height="20" viewBox="0 0 20 20" width="20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z"
                              fill="#393a37"></path>
                          </svg></div>
                      </div>
                    </div>
                  </div>
                <form action="" method="post">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle-fill"></i> Confirmar</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  function cerrarAdvertencia() {
    let advertencia = document.getElementById("advertencia");
    advertencia.style.display = "none"
  }
</script>
{% endblock %}
